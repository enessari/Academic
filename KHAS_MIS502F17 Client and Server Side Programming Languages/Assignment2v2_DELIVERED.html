<!--Due to: November 19, 2017
A mail-order house sells seven different products whose retail prices are as
follows: product_1, $3.25; product_2, $5.99; product_3, $10; product_4, $4,
product_5, $7, product_6, $6.78, and product_7, $12.49. Write a script that
reads a series of pairs of numbers as follows:
Product number
Quantity sold
Your program should use a switch statement to determine each productâ€™s retail
price and should calculate and output HTML that displays the total retail value
of all the products sold.
Use form and getElementById() method to obtain the product number and
quantity from the user. Use a sentinel-controlled loop to determine when the
program should stop looping, and display the final results (such as customer
name, date, product number, quantity, the total retail value of all the products
sold).-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
	<head>
		<title>Homework#2
		</title>
		
		<script type="text/javascript" >
		<!--
			var productprice =[3.25,5.99,10,4,7,6.78,12.49];
			var productquantity=[0,0,0,0,0,0,0];
			var productsubtotal=[0,0,0,0,0,0,0];
			var p=0;
			var q=0;
			var i=0;
			var PLen=productprice.length;
			var txt_detail="<tr><th>No</th><th>Product Number</th><th>Quantity Sold</th><th>Customer Name</th><th>Sold Time</th></tr>";
			var txt_menu ="";
			
			function mymenu(){
				txt_menu += "<button onclick=\"changeprise()\"> Change Prices </button> <button onclick=\"grandtotal()\"> GrandTotal</button><tr><th>Product Number</th><th>Quantity Sold</th><th>Customer Name</th><th>Action</th></tr><tr><td><input type=\"text\" value=\"0\" name=\"Product\" id=\"Product\" default=\"0\"/></td><td><input type=\"text\" value=\"0\" name=\"Quantity\" id=\"Quantity\" default=\"0\"/></td><td><input type=\"text\" value=\"-\" name=\"Customer\" id=\"Customer\"/></td><td id=\"sell\"><button onclick=\"sell()\"> Sell </button></td></tr>";
				document.getElementById("mymenu").innerHTML = txt_menu;
			}
			
			function refresh (){
				var txt = "<tr>";
				for (var i = 0; i < PLen; i++){
					txt += "<th> Product <br> " + (i+1) + " </th>";	
				}	
				txt += "</tr><tr>";				
				for (i = 0; i < PLen; i++){
					txt += "<td> $" + productprice[i] + " price <br>---<br>"+productquantity[i]+" unit sold <br>---<br>"+productsubtotal[i]+" Sub Total</td>";	
				}	
				txt += "</tr></table>";
				
				document.getElementById("Info").innerHTML = txt;
				document.getElementById("status").innerHTML="<br>Ready for action</br>";
			}
				
			function add_detail(){	
				// Details Table create and refresh //
				i+=1;
				customer=document.getElementById("Customer").value
				txt_detail += "<tr><td> " +i+" </td><td> $ " + p + "</td><td>"+ q +"</td><td>"+customer +"</td><td>"+ Date().toLocaleString()+"</td></tr>";	
				document.getElementById("Details").innerHTML= txt_detail;
			}
			
			function changeprise(){
					
				p=parseInt(window.prompt("Enter product number for an item, -1 to quit: 1. Product-1 / 2. Product-2 / 3. product-3 / 4. Product-4 / 5. Product-5"));
			
				while(p!=-1){
				
					switch(p){
						case 1: 
							productprice [p-1]= window.prompt("Enter Price for Product "+p+" :");
						break;
						case 2:
							productprice [p-1]= window.prompt("Enter Price for Product "+p+" :");
						break;
						case 3:
							productprice [p-1]= window.prompt("Enter Price for Product "+p+" :");
						break;
						case 4:
							productprice [p-1]= window.prompt("Enter Price for Product "+p+" :");
						break;
						case 5: 
							productprice [p-1]= window.prompt("Enter Price for Product "+p+" :");
						case 6: 
							productprice [p-1]= window.prompt("Enter Price for Product "+p+" :");
						case 7: 
							productprice [p-1]= window.prompt("Enter Price for Product "+p+" :");
						break;
						default: window.alert("No proper input, Please try Again");
						break;
					}
					p=parseInt(window.prompt("Enter product number, -1 to Quit"));
				}
				status();
			}
			function status(){
				document.getElementById("status").innerHTML="<br>! Action Completed !</br>";
				setTimeout(refresh, 1500);
			}
						
			function sell(){
				p=Number(document.getElementById("Product").value);
				q=Number(document.getElementById("Quantity").value);
				if (q==0){
					p=q;
					}
						
				switch(p){
					case 1: 
						productquantity [p-1]=q+productquantity [p-1];
						productsubtotal [p-1]=productprice[p-1]*productquantity[p-1];
						status();
						add_detail();						
					break;
					case 2:
						productquantity [p-1]=q+productquantity [p-1];
						productsubtotal [p-1]=productprice[p-1]*productquantity[p-1];
						status();
						add_detail();						
						break;
					case 3:
						productquantity [p-1]=q+productquantity [p-1];
						productsubtotal [p-1]=productprice[p-1]*productquantity[p-1];
						status();
						add_detail();						
					break;
					case 4:
						productquantity [p-1]=q+productquantity [p-1];
						productsubtotal [p-1]=productprice[p-1]*productquantity[p-1];
						status();
						add_detail();						
					break;
					case 5: 
						productquantity [p-1]=q+productquantity [p-1];
						productsubtotal [p-1]=productprice[p-1]*productquantity[p-1];
						status();
						add_detail();						
					break;
					case 6: 
						productquantity [p-1]=q+productquantity [p-1];
						productsubtotal [p-1]=productprice[p-1]*productquantity[p-1];
						status();
						add_detail();						
					break;		
					case 7: 
						productquantity [p-1]=q+productquantity [p-1];
						productsubtotal [p-1]=productprice[p-1]*productquantity[p-1];
						status();
						add_detail();
					break;						
					default: window.alert("No proper Product, Please try Again");
					break;
				}	

				setTimeout(refresh, 1000);
				
			}
			
			function grandtotal(){
				var grandtotal=0;
				for (i = 0; i < PLen; i++){
					grandtotal = grandtotal + productsubtotal[i];
					document.getElementById("status").innerHTML = "<br>! Action Completed !</br> !!!! Grand total Calculated!!!!!!!! " + grandtotal;
					}
					setTimeout(refresh, 2500);
				}
		-->	
		</script> 	
	</head>

<body onload="refresh();">
		<h1>Mail Order</h1>	
		<div>
			<table id="mymenu" border="5"></table><script>mymenu()</script>
			<p id="status"></p> 
		</div>
		<p></p>
		<div>
			<table id="Info" border="5"></table>
			<p id="status"></p> 
			</table>
			<table id="Details" border="1"></table>
		</div>	
			<hr><p>For calculate total sold,please select -1 product <br> Press F5 or Refresh to load script again.</hr>
	</body>
</html>
